# ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏° LINE

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏™‡∏£‡∏∏‡∏õ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°/‡∏´‡πâ‡∏≠‡∏á LINE ‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

## ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Realtime)
1. ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ú‡πà‡∏≤‡∏ô AI tool (`createOrderFromTool`) ‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á `orders`.
2. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `triggerOrderNotification(orderId)` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô.
3. `notificationService.sendNewOrder` ‡πÇ‡∏´‡∏•‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏à‡∏≤‡∏Å `notification_channels` (‡∏ä‡∏ô‡∏¥‡∏î `line_group`, ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô, event `new_order`).
4. ‡∏Å‡∏£‡∏≠‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç:
   - ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏´‡∏°‡∏î `realtime`.
   - `receiveFromAllBots` ‡∏´‡∏£‡∏∑‡∏≠ `sources` ‡∏ï‡πâ‡∏≠‡∏á match `order.platform` + `order.botId`.
5. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° + ‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÅ‡∏•‡∏∞ `PUBLIC_BASE_URL` ‡πÄ‡∏õ‡πá‡∏ô http/https).
6. ‡∏™‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô LINE `pushMessage` ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∏‡∏î (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°/‡∏Ñ‡∏£‡∏±‡πâ‡∏á).
7. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å `notification_logs` ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `orders.notificationStatus`.

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å
- `orders`
  - `platform`, `botId`, `orderData`, `extractedAt`
  - `notificationStatus` (pending/sent/failed), `notificationSentAt`
- `notification_channels`
  - `name`, `type: "line_group"`
  - `senderBotId`, `groupId`
  - `receiveFromAllBots`, `sources[]` ({ platform, botId })
  - `eventTypes` (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠ `new_order` ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
  - `deliveryMode`: `realtime` | `scheduled`
  - `summaryTimes[]`, `summaryTimezone`
  - `settings` (‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á)
  - `isActive`
- `notification_logs`
  - `channelId`, `orderId`, `eventType`, `status`, `errorMessage`, `createdAt`
- `line_bot_groups`
  - ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏∏‡πà‡∏°/‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ö‡∏≠‡∏ó‡πÄ‡∏Ñ‡∏¢‡∏£‡∏±‡∏ö event (`groupId`, `groupName`, `status`, `sourceType`, `memberCount`)

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Admin
- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£: `admin-settings-v2` ‡∏™‡πà‡∏ß‡∏ô "‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå"
- ‡πÑ‡∏ü‡∏•‡πå UI ‡∏´‡∏•‡∏±‡∏Å: `public/js/notification-channels.js`
- ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏:
  - LINE Bot (‡∏ú‡∏π‡πâ‡∏™‡πà‡∏á) + ‡∏Å‡∏•‡∏∏‡πà‡∏°/‡∏´‡πâ‡∏≠‡∏á (‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á)
  - ‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡∏ö‡∏≠‡∏ó ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏≠‡∏ó‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á
  - ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á: ‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤
- ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:
  - ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô `line_bot_groups` ‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà `left`
  - ‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `scheduled` ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏Ñ‡πà‡∏≤ (‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `HH:mm`)

### API ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö/‡∏î‡∏µ‡∏ö‡∏±‡∏Å)
- `GET /admin/api/notification-channels`
- `POST /admin/api/notification-channels`
- `PUT /admin/api/notification-channels/:id`
- `PATCH /admin/api/notification-channels/:id/toggle`
- `DELETE /admin/api/notification-channels/:id`
- `POST /admin/api/notification-channels/:id/test`
- `GET /admin/api/all-bots`
- `GET /admin/api/line-bots/:botId/groups`
- `GET /admin/api/notification-logs`

## ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (New Order)
- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:
  - `üõí ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà!`
  - `üì¶ ID: <orderId>`
- ‡∏≠‡∏≠‡∏õ‡∏ä‡∏±‡∏ô‡πÉ‡∏ô `settings`:
  - `includeCustomer`, `includePhone`, `includeItemsCount`, `includeItemsDetail`
  - `includeAddress`, `includePaymentMethod`, `includeTotalAmount`, `includeOrderLink`
- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 20 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)
- ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î `includeOrderLink` ‡πÅ‡∏•‡∏∞‡∏°‡∏µ `PUBLIC_BASE_URL`

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (Realtime)
```text
üõí ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà!
üì¶ ID: 66f21a8f9c2a7f0b12345678
üë§ ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ
üìù ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: 2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
üßæ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:
üî∏ ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡∏™‡∏µ‡∏î‡∏≥ (L) x1 ‚Ä¢ ‡∏ø350
üî∏ ‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏¢‡∏µ‡∏ô‡∏™‡πå x2 ‚Ä¢ ‡∏ø890
üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£: 0891234567
üìç ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: 123/45 ‡∏ñ‡∏ô‡∏ô‡∏™‡∏∏‡∏Ç‡πÉ‡∏à ‡πÅ‡∏Ç‡∏ß‡∏á‡∏ö‡∏≤‡∏á‡∏£‡∏±‡∏Å ‡πÄ‡∏Ç‡∏ï‡∏ö‡∏≤‡∏á‡∏£‡∏±‡∏Å ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£ 10500
üí≥ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô: ‡πÇ‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
üí∞ ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: ‡∏ø1,240
üîó ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå: https://example.com/admin/orders
üì∑ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: 2 ‡∏£‡∏π‡∏õ
```

## ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ñ‡πâ‡∏ô‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å `chat_history` ‡∏î‡πâ‡∏ß‡∏¢ `orderId` ‡πÅ‡∏•‡∏∞ `role=user`.
- ‡∏ñ‡πâ‡∏≤ `PUBLIC_BASE_URL` ‡πÄ‡∏õ‡πá‡∏ô `http/https` ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á URL ‡∏à‡∏≤‡∏Å `/assets/chat-images/:messageId/:imageIndex`.
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏£‡∏π‡∏õ ‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î `üì∑ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: X ‡∏£‡∏π‡∏õ` ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡πÅ‡∏ô‡∏ö‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏á.

## ‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤ (Scheduled)
- ‡πÇ‡∏´‡∏°‡∏î `scheduled` ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö‡∏ó‡∏±‡∏ô‡∏ó‡∏µ.
- Scheduler ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ:
  - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏≤‡∏Å `summaryTimes` + `summaryTimezone`.
  - ‡∏™‡πà‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏î‡πâ‡∏ß‡∏¢ `notificationService.sendOrderSummary`.
- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡∏£‡∏∏‡∏õ:
  - ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå, ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° (‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
  - ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 10 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡πÅ‡∏™‡∏î‡∏á `#<last6>` + ‡∏ä‡∏∑‡πà‡∏≠/‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤/‡∏¢‡∏≠‡∏î)

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤
```text
üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå (16/01 09:00-16/01 12:00)
‡∏£‡∏ß‡∏° 3 ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå | ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° ‡∏ø3,250
‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á‡∏£‡∏ß‡∏° ‡∏ø120
‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå:
- #7a8f9c ‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á 2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚Ä¢ ‡∏ø1,450
- #9c2a7f ‡∏†‡∏±‡∏ó‡∏£ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚Ä¢ ‡∏ø900
- #123456 ‡∏ô‡∏±‡∏ô‡∏ó‡∏ô‡∏≤ 4 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚Ä¢ ‡∏ø900
```

## SlipOK (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
- ‡∏´‡∏≤‡∏Å‡πÄ‡∏õ‡∏¥‡∏î `settings.slipOkEnabled` ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API ‡πÅ‡∏•‡πâ‡∏ß
  - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏ó‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏•‡∏¥‡∏õ‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ API URL/Key ‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

## ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏ó‡∏£‡∏≤‡∏ö
- ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ú‡πà‡∏≤‡∏ô `createOrderFromTool` ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
  - ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå (Update) ‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà
- ‡∏ñ‡πâ‡∏≤ `notificationStatus` ‡πÄ‡∏õ‡πá‡∏ô `sent` ‡πÅ‡∏•‡πâ‡∏ß ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏ã‡πâ‡∏≥
- `sendNewOrder` ‡∏à‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ `success: true` ‡πÅ‡∏°‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏î‡πâ
  - ‡∏ó‡∏≥‡πÉ‡∏´‡πâ `notificationStatus` ‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏õ‡πá‡∏ô `sent` ‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πâ `sentCount = 0`

## ‡πÄ‡∏ä‡πá‡∏Ñ‡∏•‡∏¥‡∏™‡∏ï‡πå‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤
- ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤ LINE Bot ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏•‡∏∞‡∏°‡∏µ event ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÉ‡∏ô `line_bot_groups`
- ‡∏ï‡∏£‡∏ß‡∏à `notification_channels` ‡∏ß‡πà‡∏≤ `isActive=true`, `deliveryMode=realtime`
- ‡∏ï‡∏£‡∏ß‡∏à `orders.notificationStatus` (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô `sent` ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏ã‡πâ‡∏≥)
- ‡∏ï‡∏£‡∏ß‡∏à `notification_logs` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π error ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á
- ‡∏ï‡∏£‡∏ß‡∏à `senderBotId` ‡∏°‡∏µ `channelAccessToken/channelSecret` ‡πÉ‡∏ô `line_bots`
- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤ `PUBLIC_BASE_URL` ‡πÄ‡∏õ‡πá‡∏ô URL ‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞

## ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
- `index.js`
- `services/notificationService.js`
- `public/js/notification-channels.js`
- `views/admin-settings-v2.ejs`
- `views/partials/modals/notification-channel-modal.ejs`
